<?php
$target_dir = 'uploads/';
$error = false;
$message = '';
$blacklist = array('php', 'js', 'css', 'html');

// Check if the file is an image or a file with a valid extension
$file_ext = strtolower(pathinfo($_FILES['fileToUpload']['name'], PATHINFO_EXTENSION));

if (in_array($file_ext, $blacklist)) {
    $message = 'Sajnálom, de PHP, JS, CSS és HTML fileokat nem lehet feltölteni.';
    $error = true;
}

if (!$message) {
    $target_file = $target_dir . basename($_FILES['fileToUpload']['name']);
    if (move_uploaded_file($_FILES['fileToUpload']['tmp_name'], $target_file)) {
        $message = 'A ' . basename($_FILES['fileToUpload']['name']) . ' file feltöltve.';
    } else {
        $message = 'Valami hiba történt a feltöltés közben.';
        $error = true;
    }
}
